#!/usr/bin/env bash
#
# Git hook: commit-msg
# Strips AI signatures from commit messages to keep history clean.
# Install: cp scripts/git-hooks/commit-msg .git/hooks/commit-msg && chmod +x .git/hooks/commit-msg
# Or run: make install-hooks

COMMIT_MSG_FILE="$1"

# Patterns to remove (AI assistant signatures)
sed -i \
    -e '/^ðŸ¤–/d' \
    -e '/^Co-authored-by: Claude/d' \
    -e '/^Co-authored-by: GitHub Copilot/d' \
    -e '/^Co-authored-by: ChatGPT/d' \
    -e '/^Co-authored-by: Gemini/d' \
    -e '/^Co-authored-by: Antigravity/d' \
    -e '/^Generated with/d' \
    -e '/^AI-assisted/d' \
    "$COMMIT_MSG_FILE"
